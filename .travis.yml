language: python
python:
  - "3.6"
before_install: cd server
install:
  - npm install -g serverless
  - npm install -g serverless-python-requirements
  - pip install coveralls
  - pip install -r requirements.txt -t .
before_script:
  - python -m unittest discover -p "*_test.py"
  - python -m coverage run -m unittest discover -p "*_test.py"
  - coveralls
script:
  - sls deploy