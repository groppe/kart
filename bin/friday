#!/usr/bin/env node

var requester = require('request');

if (!process.env.WEBHOOK_URL) 
{
	console.log('Error: Please specify WEBHOOK_PATH in the environment.');
    process.exit(1);
}

// get the day of the week
if (new Date().getDay() > 5)
{
	process.exit();
}

// day sayings
var weekdays = [
	'It\'s Manic Monday!',
	'It\'s Typical Tuesday.',
	'It\'s Wild Wednesday!',
	'It\'s Thursday... is anyone around?',
	'It\'s Ocho Friday!',
];

// payload
var post_data = {
	'text': weekdays[new Date().getDay()]
};

// options
var post_options = {
	url: process.env.WEBHOOK_URL,
	method: 'POST',
	json: post_data
};

// request
requester(post_options);
